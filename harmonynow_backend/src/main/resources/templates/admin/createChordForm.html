<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{admin/index}">
<head>
  <title>Chord List</title>
  <style>
    .fieldError {
      border-color: #bd2130;
    }
  </style>
</head>
<body>
<section layout:fragment="admin-content">
  <div class="container mt-4">
    <h2>코드 추가</h2>
    <form th:action="@{/admin/chords/new}" th:object="${form}" method="post" enctype="multipart/form-data">

      <!-- 코드 이름 입력 필드 -->
      <div class="mb-3">
        <label th:for="name">코드 이름</label>
        <input type="text" th:field="*{name}" class="form-control" th:class="${#fields.hasErrors('name')}? 'form-control fieldError' : 'form-control'">
        <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
      </div>

      <!-- 설명 입력 필드 -->
      <div class="mb-3">
        <label th:for="description">설명</label>
        <textarea th:field="*{description}" class="form-control" rows="3"></textarea>
      </div>

      <!-- Level 드롭다운 -->
      <div class="mb-3">
        <label th:for="level">수준</label>
        <select th:field="*{level}" class="form-control">
          <option value="B">초급</option>
          <option value="C">중급</option>
          <option value="D">고급</option>
        </select>
      </div>

      <div class="mb-3">
        <label>공개 여부</label>
        <select th:field="*{isPublic}" class="form-control">
          <option value="true">공개</option>
          <option value="false">비공개</option>
        </select>
      </div>

      <!-- 이미지 파일 업로드 필드 -->
      <div class="mb-3">
        <label th:for="imageFile">이미지 업로드</label>
        <input type="file" th:field="*{imageFile}" th:class="${#fields.hasErrors('imageFile')}? 'form-control fieldError' : 'form-control'">
        <div th:if="${#fields.hasErrors('imageFile')}" th:errors="*{imageFile}"></div>
      </div>

      <!-- 오디오 파일 업로드 필드 -->
      <div class="mb-3">
        <label th:for="audioFile">오디오 업로드</label>
        <input type="file" th:field="*{audioFile}" th:class="${#fields.hasErrors('audioFile')}? 'form-control fieldError' : 'form-control'">
        <div th:if="${#fields.hasErrors('audioFile')}" th:errors="*{audioFile}"></div>
      </div>

      <!-- 제출 버튼 -->
      <div class="mt-3">
        <button type="submit" class="btn btn-primary">저장</button>
      </div>

    </form>
  </div>

</section>
</body>
</html>
